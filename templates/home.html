{% extends 'base.html' %}

{% block title %}KampusSpace - Temukan Ruangan Kampus{% endblock %}

{% block content %}
<!-- Hero Section with Carousel -->
<section class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 overflow-x-clip relative">
    <!-- Floating Particles Container -->
    <div id="particlesContainer" class="absolute inset-0 overflow-hidden pointer-events-none z-0"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-20 relative z-10">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 items-start">

            <!-- Left: CTA Content -->
            <div class="text-center lg:text-left relative z-20">
                <div class="inline-flex items-center px-4 py-2 bg-primary/20 rounded-full mb-6">
                    <span class="w-2 h-2 bg-primary rounded-full mr-2 animate-pulse"></span>
                    <span class="text-primary text-sm font-medium">Platform Peminjaman Ruangan #1</span>
                </div>

                <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight">
                    Temukan Ruang
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-400">
                        Sempurna
                    </span>
                    untuk Setiap Kegiatan
                </h1>

                <p class="text-lg md:text-xl text-gray-300 mb-8 max-w-lg mx-auto lg:mx-0">
                    <strong class="text-white">SmartSpace UPY</strong> adalah solusi modern untuk peminjaman
                    ruangan kampus.
                    Cari, pesan, dan kelola ruangan dengan mudah dalam satu platform.
                </p>

                <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                    <a href="#rooms"
                        class="group relative inline-flex items-center justify-center px-8 py-4 bg-primary text-white font-semibold rounded-xl overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-primary/30">
                        <span
                            class="absolute inset-0 bg-gradient-to-r from-primary to-blue-400 opacity-0 group-hover:opacity-100 transition-opacity"></span>
                        <span class="relative flex items-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                            </svg>
                            Jelajahi Ruangan
                        </span>
                    </a>
                    <a href="#"
                        class="group inline-flex items-center justify-center px-8 py-4 bg-white/10 text-white font-semibold rounded-xl border border-white/20 backdrop-blur-sm transition-all duration-300 hover:bg-white/20 hover:border-white/40">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z">
                            </path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Lihat Demo
                    </a>
                </div>

                <!-- Stats with Icons -->
                <div class="flex flex-wrap gap-3 mt-10 pt-6 border-t border-white/10">
                    <!-- Stat 1: Ruangan -->
                    <div
                        class="group flex items-center gap-3 bg-white/5 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/10 hover:border-primary/50 hover:bg-white/10 transition-all duration-300">
                        <div
                            class="w-9 h-9 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-md shadow-blue-500/25 group-hover:scale-105 transition-transform duration-300">
                            <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd"
                                    d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-xl font-bold text-white">50+</div>
                            <div class="text-xs text-gray-400">Ruangan</div>
                        </div>
                    </div>

                    <!-- Stat 2: Peminjaman -->
                    <div
                        class="group flex items-center gap-3 bg-white/5 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/10 hover:border-primary/50 hover:bg-white/10 transition-all duration-300">
                        <div
                            class="w-9 h-9 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-lg flex items-center justify-center shadow-md shadow-emerald-500/25 group-hover:scale-105 transition-transform duration-300">
                            <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path>
                                <path fill-rule="evenodd"
                                    d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"
                                    clip-rule="evenodd"></path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-xl font-bold text-white">1000+</div>
                            <div class="text-xs text-gray-400">Peminjaman</div>
                        </div>
                    </div>

                    <!-- Stat 3: Kepuasan -->
                    <div
                        class="group flex items-center gap-3 bg-white/5 backdrop-blur-sm rounded-xl px-4 py-3 border border-white/10 hover:border-primary/50 hover:bg-white/10 transition-all duration-300">
                        <div
                            class="w-9 h-9 bg-gradient-to-br from-amber-500 to-orange-500 rounded-lg flex items-center justify-center shadow-md shadow-amber-500/25 group-hover:scale-105 transition-transform duration-300">
                            <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z">
                                </path>
                            </svg>
                        </div>
                        <div>
                            <div class="text-xl font-bold text-white">99%</div>
                            <div class="text-xs text-gray-400">Kepuasan</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: 3D Image Carousel -->
            <div class="relative perspective-container">
                <!-- 3D Carousel Wrapper -->
                <div class="carousel-3d-wrapper" id="heroCarousel">
                    <!-- 3D Scene -->
                    <div class="carousel-3d-scene" id="carousel3DScene">
                        {% if rooms %}
                        {% for room in rooms|slice:":6" %}
                        <!-- Slide {{ forloop.counter }} -->
                        <div class="carousel-3d-card {% if forloop.first %}active{% endif %}"
                            data-index="{{ forloop.counter0 }}">
                            <div class="carousel-3d-card-inner">
                                {% if room.get_foto_url %}
                                <img src="{{ room.get_foto_url }}" alt="{{ room.nomor_ruangan }}"
                                    class="w-full h-full object-cover">
                                {% else %}
                                {% if room.tipe_ruangan == 'Aula' %}
                                <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop"
                                    alt="{{ room.nomor_ruangan }}" class="w-full h-full object-cover">
                                {% elif room.tipe_ruangan == 'Lab' %}
                                <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?w=800&h=600&fit=crop"
                                    alt="{{ room.nomor_ruangan }}" class="w-full h-full object-cover">
                                {% else %}
                                <img src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?w=800&h=600&fit=crop"
                                    alt="{{ room.nomor_ruangan }}" class="w-full h-full object-cover">
                                {% endif %}
                                {% endif %}
                                <!-- Card Overlay -->
                                <div
                                    class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent">
                                </div>
                                <!-- Card Content -->
                                <div class="absolute bottom-0 left-0 right-0 p-6">
                                    <div class="flex items-center gap-2 mb-3">
                                        {% if room.tipe_ruangan == 'Kelas' %}
                                        <span
                                            class="px-3 py-1.5 bg-blue-500 text-white text-xs font-medium rounded-full flex items-center gap-1">
                                            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
                                                </path>
                                            </svg>
                                            Kelas
                                        </span>
                                        {% elif room.tipe_ruangan == 'Lab' %}
                                        <span
                                            class="px-3 py-1.5 bg-purple-500 text-white text-xs font-medium rounded-full flex items-center gap-1">
                                            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z">
                                                </path>
                                            </svg>
                                            Lab
                                        </span>
                                        {% else %}
                                        <span
                                            class="px-3 py-1.5 bg-orange-500 text-white text-xs font-medium rounded-full flex items-center gap-1">
                                            <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor"
                                                viewBox="0 0 24 24">
                                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                    d="M7 4V2m10 2V2m-8 6h6m-6 4h6m-6 4h4M5 22h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2z">
                                                </path>
                                            </svg>
                                            Aula
                                        </span>
                                        {% endif %}
                                        {% if room.status == 'available' %}
                                        <span
                                            class="px-3 py-1.5 bg-emerald-500 text-white text-xs font-medium rounded-full flex items-center gap-1">
                                            <span class="w-1.5 h-1.5 bg-white rounded-full animate-pulse"></span>
                                            Tersedia
                                        </span>
                                        {% elif room.status == 'maintenance' %}
                                        <span
                                            class="px-3 py-1.5 bg-yellow-500 text-white text-xs font-medium rounded-full flex items-center gap-1">
                                            üîß Dalam Perbaikan
                                        </span>
                                        {% else %}
                                        <span
                                            class="px-3 py-1.5 bg-red-500 text-white text-xs font-medium rounded-full">
                                            Tidak Tersedia
                                        </span>
                                        {% endif %}
                                    </div>
                                    <h3 class="text-white font-bold text-xl mb-1">{{ room.nomor_ruangan }}</h3>
                                    <p class="text-white/80 text-sm flex items-center gap-1">
                                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z">
                                            </path>
                                        </svg>
                                        Kapasitas {{ room.kapasitas }} orang
                                    </p>
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                        {% else %}
                        <!-- Fallback Static Slides -->
                        <div class="carousel-3d-card active" data-index="0">
                            <div class="carousel-3d-card-inner">
                                <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&h=600&fit=crop"
                                    alt="Aula Modern" class="w-full h-full object-cover">
                                <div
                                    class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent">
                                </div>
                                <div class="absolute bottom-0 left-0 right-0 p-6">
                                    <h3 class="text-white font-bold text-xl mb-1">Aula Utama</h3>
                                    <p class="text-white/80 text-sm">Kapasitas 500 orang</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-3d-card" data-index="1">
                            <div class="carousel-3d-card-inner">
                                <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?w=800&h=600&fit=crop"
                                    alt="Lab Komputer" class="w-full h-full object-cover">
                                <div
                                    class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent">
                                </div>
                                <div class="absolute bottom-0 left-0 right-0 p-6">
                                    <h3 class="text-white font-bold text-xl mb-1">Lab Komputer</h3>
                                    <p class="text-white/80 text-sm">40 unit komputer terbaru</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-3d-card" data-index="2">
                            <div class="carousel-3d-card-inner">
                                <img src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?w=800&h=600&fit=crop"
                                    alt="Ruang Diskusi" class="w-full h-full object-cover">
                                <div
                                    class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent">
                                </div>
                                <div class="absolute bottom-0 left-0 right-0 p-6">
                                    <h3 class="text-white font-bold text-xl mb-1">Ruang Diskusi</h3>
                                    <p class="text-white/80 text-sm">Nyaman untuk brainstorming</p>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-3d-card" data-index="3">
                            <div class="carousel-3d-card-inner">
                                <img src="https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=800&h=600&fit=crop"
                                    alt="Meeting Room" class="w-full h-full object-cover">
                                <div
                                    class="absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent">
                                </div>
                                <div class="absolute bottom-0 left-0 right-0 p-6">
                                    <h3 class="text-white font-bold text-xl mb-1">Ruang Meeting</h3>
                                    <p class="text-white/80 text-sm">Fasilitas lengkap</p>
                                </div>
                            </div>
                        </div>
                        {% endif %}
                    </div>

                    <!-- Navigation Arrows -->
                    <button id="prevBtn" class="carousel-3d-nav carousel-3d-nav-prev">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7">
                            </path>
                        </svg>
                    </button>
                    <button id="nextBtn" class="carousel-3d-nav carousel-3d-nav-next">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                            </path>
                        </svg>
                    </button>
                </div>

                <!-- 3D Dot Indicators -->
                <div class="flex justify-center gap-3 mt-8" id="dotsContainer">
                    {% if rooms %}
                    {% for room in rooms|slice:":6" %}
                    <button class="carousel-3d-dot {% if forloop.first %}active{% endif %}"
                        data-index="{{ forloop.counter0 }}">
                        <span class="dot-inner"></span>
                    </button>
                    {% endfor %}
                    {% else %}
                    <button class="carousel-3d-dot active" data-index="0"><span class="dot-inner"></span></button>
                    <button class="carousel-3d-dot" data-index="1"><span class="dot-inner"></span></button>
                    <button class="carousel-3d-dot" data-index="2"><span class="dot-inner"></span></button>
                    <button class="carousel-3d-dot" data-index="3"><span class="dot-inner"></span></button>
                    {% endif %}
                </div>

                <!-- Decorative Elements -->
                <div class="absolute -top-4 -right-4 w-24 h-24 bg-primary/30 rounded-full blur-2xl"></div>
                <div class="absolute -bottom-4 -left-4 w-32 h-32 bg-blue-500/20 rounded-full blur-2xl"></div>
            </div>

        </div>
    </div>
</section>

<!-- 3D Carousel Styles -->
<style>
    /* 3D Perspective Container */
    .perspective-container {
        perspective: 1200px;
        perspective-origin: center center;
        overflow: visible;
    }

    /* 3D Carousel Wrapper */
    .carousel-3d-wrapper {
        position: relative;
        width: 100%;
        height: 380px;
        overflow: visible;
    }

    /* 3D Scene */
    .carousel-3d-scene {
        position: relative;
        width: 80%;
        height: 100%;
        margin: 0 auto;
        transform-style: preserve-3d;
    }

    /* 3D Cards */
    .carousel-3d-card {
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        border-radius: 1.25rem;
        overflow: hidden;
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        transform-style: preserve-3d;
        backface-visibility: hidden;
        cursor: pointer;
        opacity: 0;
        pointer-events: none;
    }

    .carousel-3d-card-inner {
        position: relative;
        width: 100%;
        height: 100%;
        border-radius: 1.25rem;
        overflow: hidden;
        box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.4);
    }

    /* Card States */
    .carousel-3d-card.active {
        z-index: 30;
        transform: translateX(0) translateZ(0) rotateY(0deg) scale(1);
        opacity: 1;
        pointer-events: auto;
    }

    .carousel-3d-card.prev {
        z-index: 20;
        transform: translateX(-75%) translateZ(-80px) rotateY(20deg) scale(0.75);
        opacity: 0.5;
        filter: brightness(0.6);
        pointer-events: auto;
    }

    .carousel-3d-card.next {
        z-index: 20;
        transform: translateX(75%) translateZ(-80px) rotateY(-20deg) scale(0.75);
        opacity: 0.5;
        filter: brightness(0.6);
        pointer-events: auto;
    }

    .carousel-3d-card.hidden-left {
        z-index: 10;
        transform: translateX(-150%) translateZ(-200px) rotateY(35deg) scale(0.5);
        opacity: 0;
        pointer-events: none;
    }

    .carousel-3d-card.hidden-right {
        z-index: 10;
        transform: translateX(150%) translateZ(-200px) rotateY(-35deg) scale(0.5);
        opacity: 0;
        pointer-events: none;
    }

    /* Navigation Buttons */
    .carousel-3d-nav {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        z-index: 50;
        width: 48px;
        height: 48px;
        background: rgba(255, 255, 255, 0.95);
        border: none;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        transition: all 0.3s ease;
        color: #1f2937;
    }

    .carousel-3d-nav:hover {
        transform: translateY(-50%) scale(1.1);
        background: #fff;
        box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
        color: #3B82F6;
    }

    .carousel-3d-nav:active {
        transform: translateY(-50%) scale(0.95);
    }

    .carousel-3d-nav-prev {
        left: 5%;
    }

    .carousel-3d-nav-next {
        right: 5%;
    }

    @media (max-width: 768px) {
        .carousel-3d-wrapper {
            height: 280px;
        }

        .carousel-3d-scene {
            width: 85%;
        }

        .carousel-3d-nav {
            width: 40px;
            height: 40px;
        }

        .carousel-3d-nav-prev {
            left: 2%;
        }

        .carousel-3d-nav-next {
            right: 2%;
        }

        .carousel-3d-card.prev {
            transform: translateX(-60%) translateZ(-60px) rotateY(15deg) scale(0.7);
            opacity: 0.4;
        }

        .carousel-3d-card.next {
            transform: translateX(60%) translateZ(-60px) rotateY(-15deg) scale(0.7);
            opacity: 0.4;
        }

        .carousel-3d-card-inner {
            box-shadow: 0 10px 25px -8px rgba(0, 0, 0, 0.3);
        }
    }

    /* 3D Dot Indicators */
    .carousel-3d-dot {
        position: relative;
        width: 12px;
        height: 12px;
        padding: 0;
        border: none;
        background: transparent;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .carousel-3d-dot .dot-inner {
        display: block;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 50%;
        transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .carousel-3d-dot:hover .dot-inner {
        background: rgba(255, 255, 255, 0.6);
        transform: scale(1.2);
    }

    .carousel-3d-dot.active {
        width: 32px;
    }

    .carousel-3d-dot.active .dot-inner {
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #3B82F6, #60A5FA);
        border-radius: 6px;
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.5);
    }

    /* Shine effect on active card */
    .carousel-3d-card.active .carousel-3d-card-inner::before {
        content: '';
        position: absolute;
        inset: 0;
        background: linear-gradient(135deg,
                rgba(255, 255, 255, 0.1) 0%,
                transparent 50%,
                transparent 100%);
        z-index: 5;
        pointer-events: none;
    }

    /* Reflection effect */
    .carousel-3d-wrapper::after {
        content: '';
        position: absolute;
        bottom: -80px;
        left: 10%;
        right: 10%;
        height: 80px;
        background: linear-gradient(to bottom,
                rgba(59, 130, 246, 0.15),
                transparent);
        filter: blur(20px);
        border-radius: 50%;
        opacity: 0.5;
    }

    /* Floating Particles */
    .particle {
        position: absolute;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.8);
        box-shadow: 0 0 10px 2px rgba(255, 255, 255, 0.6),
            0 0 20px 4px rgba(255, 255, 255, 0.3);
        pointer-events: none;
        will-change: transform, opacity;
        animation: floatUp var(--float-duration, 12s) linear infinite;
        animation-delay: var(--delay, 0s);
    }

    .particle::before {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 50%;
        background: inherit;
        box-shadow: inherit;
        animation: pulse var(--pulse-duration, 3s) ease-in-out infinite;
    }

    @keyframes floatUp {
        0% {
            transform: translateY(0) translateX(0);
            opacity: 0;
        }

        5% {
            opacity: 0.8;
        }

        95% {
            opacity: 0.8;
        }

        100% {
            transform: translateY(-100vh) translateX(var(--drift-x, 20px));
            opacity: 0;
        }
    }

    @keyframes pulse {

        0%,
        100% {
            transform: scale(0.6);
        }

        50% {
            transform: scale(1.4);
        }
    }
</style>

<!-- 3D Carousel JavaScript -->
<script>
    // Floating Particles Generator
    (function () {
        const container = document.getElementById('particlesContainer');
        if (!container) return;

        const particleCount = 15;

        for (let i = 0; i < particleCount; i++) {
            const particle = document.createElement('div');
            particle.classList.add('particle');

            // Random properties
            const size = Math.random() * 3 + 2; // 2-5px (smaller)
            const left = Math.random() * 100; // 0-100%
            const floatDuration = Math.random() * 5 + 10; // 10-15s (medium speed)
            const pulseDuration = Math.random() * 0.5 + 1; // 1-1.5s (faster pulse)
            const delay = Math.random() * 12; // 0-12s stagger (more spread out)
            const driftX = (Math.random() - 0.5) * 60; // -30 to 30px horizontal drift

            particle.style.cssText = `
                width: ${size}px;
                height: ${size}px;
                left: ${left}%;
                bottom: -20px;
                --float-duration: ${floatDuration}s;
                --pulse-duration: ${pulseDuration}s;
                --delay: ${delay}s;
                --drift-x: ${driftX}px;
            `;

            container.appendChild(particle);
        }
    })();

    document.addEventListener('DOMContentLoaded', function () {
        const cards = document.querySelectorAll('.carousel-3d-card');
        const dots = document.querySelectorAll('.carousel-3d-dot');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');

        if (cards.length === 0) return;

        let currentIndex = 0;
        const totalCards = cards.length;
        let autoPlayInterval;

        function updateCarousel() {
            cards.forEach((card, index) => {
                // Remove all state classes
                card.classList.remove('active', 'prev', 'next', 'hidden-left', 'hidden-right');

                // Calculate position relative to current
                let diff = index - currentIndex;

                // Handle wrapping for circular carousel
                if (diff > totalCards / 2) diff -= totalCards;
                if (diff < -totalCards / 2) diff += totalCards;

                // Apply appropriate class based on position
                if (diff === 0) {
                    card.classList.add('active');
                } else if (diff === -1 || (diff === totalCards - 1 && totalCards > 2)) {
                    card.classList.add('prev');
                } else if (diff === 1 || (diff === -(totalCards - 1) && totalCards > 2)) {
                    card.classList.add('next');
                } else if (diff < 0) {
                    card.classList.add('hidden-left');
                } else {
                    card.classList.add('hidden-right');
                }
            });

            // Update dots
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentIndex);
            });
        }

        function goToSlide(index) {
            currentIndex = (index + totalCards) % totalCards;
            updateCarousel();
        }

        function nextSlide() {
            goToSlide(currentIndex + 1);
        }

        function prevSlide() {
            goToSlide(currentIndex - 1);
        }

        // Button events
        if (prevBtn) prevBtn.addEventListener('click', prevSlide);
        if (nextBtn) nextBtn.addEventListener('click', nextSlide);

        // Dot events
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => goToSlide(index));
        });

        // Click on prev/next cards to navigate
        cards.forEach((card) => {
            card.addEventListener('click', function () {
                if (this.classList.contains('prev')) {
                    prevSlide();
                } else if (this.classList.contains('next')) {
                    nextSlide();
                }
            });
        });

        // Auto-play
        function startAutoPlay() {
            autoPlayInterval = setInterval(nextSlide, 3000);
        }

        function stopAutoPlay() {
            clearInterval(autoPlayInterval);
        }

        // Pause on hover
        const wrapper = document.querySelector('.carousel-3d-wrapper');
        if (wrapper) {
            wrapper.addEventListener('mouseenter', stopAutoPlay);
            wrapper.addEventListener('mouseleave', startAutoPlay);
        }

        // Keyboard navigation
        document.addEventListener('keydown', function (e) {
            if (e.key === 'ArrowLeft') prevSlide();
            if (e.key === 'ArrowRight') nextSlide();
        });

        // Touch/swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        if (wrapper) {
            wrapper.addEventListener('touchstart', function (e) {
                touchStartX = e.changedTouches[0].screenX;
            }, { passive: true });

            wrapper.addEventListener('touchend', function (e) {
                touchEndX = e.changedTouches[0].screenX;
                const diff = touchStartX - touchEndX;
                if (Math.abs(diff) > 50) {
                    if (diff > 0) nextSlide();
                    else prevSlide();
                }
            }, { passive: true });
        }

        // Initialize
        updateCarousel();
        startAutoPlay();
    });
</script>

<!-- Room Listing Section -->
<div id="rooms" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">

    <!-- Section Header -->
    <div class="flex items-center justify-between mb-8">
        <div>
            <h2 class="text-2xl md:text-3xl font-bold text-gray-900">Ruangan Tersedia</h2>
            <p class="text-gray-600 mt-1">Pilih ruangan yang sesuai kebutuhanmu</p>
        </div>
        <a href="{% url 'rooms_list' %}" class="hidden md:flex items-center text-primary font-medium hover:underline">
            Lihat Semua
            <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </a>
    </div>

    <!-- Filter Tags - Enhanced UI -->
    <div id="filterButtons" class="flex flex-wrap gap-3 mb-8">
        <button data-filter="all"
            class="filter-btn active px-5 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full text-sm font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 active:scale-95 transition-all duration-300">
            <span class="flex items-center gap-2">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z">
                    </path>
                </svg>
                Semua
            </span>
        </button>
        <button data-filter="kelas"
            class="filter-btn px-5 py-2.5 bg-white border-2 border-gray-200 text-gray-600 rounded-full text-sm font-semibold hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 hover:shadow-lg hover:shadow-blue-500/20 hover:scale-105 active:scale-95 transition-all duration-300">
            <span class="flex items-center gap-2">
                <span class="text-base">üè´</span>
                Kelas
            </span>
        </button>
        <button data-filter="lab"
            class="filter-btn px-5 py-2.5 bg-white border-2 border-gray-200 text-gray-600 rounded-full text-sm font-semibold hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 hover:shadow-lg hover:shadow-blue-500/20 hover:scale-105 active:scale-95 transition-all duration-300">
            <span class="flex items-center gap-2">
                <span class="text-base">üî¨</span>
                Laboratorium
            </span>
        </button>
        <button data-filter="aula"
            class="filter-btn px-5 py-2.5 bg-white border-2 border-gray-200 text-gray-600 rounded-full text-sm font-semibold hover:border-blue-500 hover:text-blue-600 hover:bg-blue-50 hover:shadow-lg hover:shadow-blue-500/20 hover:scale-105 active:scale-95 transition-all duration-300">
            <span class="flex items-center gap-2">
                <span class="text-base">üé≠</span>
                Aula
            </span>
        </button>
    </div>

    <!-- Room Grid -->
    {% if rooms %}
    <div id="roomGrid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
        {% for room in rooms|slice:":12" %}
        <div data-room-id="{{ room.pk }}" data-room-name="{{ room.nomor_ruangan|escapejs }}"
            data-room-type="{{ room.tipe_ruangan|lower }}"
            data-room-facilities="{% for f in room.fasilitas_list %}{{ f|lower }}{% if not forloop.last %},{% endif %}{% endfor %}"
            class="room-card bg-white rounded-2xl overflow-hidden cursor-pointer group block transform transition-all duration-300 ease-out hover:-translate-y-2 hover:shadow-2xl hover:shadow-primary/20 border border-gray-100 hover:border-primary/30">
            <!-- Room Image -->
            <div class="aspect-square relative overflow-hidden">
                {% if room.get_foto_url %}
                <img src="{{ room.get_foto_url }}" alt="{{ room.nomor_ruangan }}"
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-in-out">
                {% else %}
                <!-- Dynamic Placeholder based on room type -->
                {% if room.tipe_ruangan == 'Aula' %}
                <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?w=400&h=400&fit=crop"
                    alt="{{ room.nomor_ruangan }}"
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-in-out">
                {% elif room.tipe_ruangan == 'Lab' %}
                <img src="https://images.unsplash.com/photo-1606761568499-6d2451b23c66?w=400&h=400&fit=crop"
                    alt="{{ room.nomor_ruangan }}"
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-in-out">
                {% else %}
                <img src="https://images.unsplash.com/photo-1524758631624-e2822e304c36?w=400&h=400&fit=crop"
                    alt="{{ room.nomor_ruangan }}"
                    class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 ease-in-out">
                {% endif %}
                {% endif %}
                <!-- Gradient Overlay on Hover -->
                <div
                    class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                </div>

                <!-- Status Badge -->
                {% if room.status == 'available' %}
                <div
                    class="absolute top-3 left-3 px-3 py-1.5 bg-green-500 text-white text-xs font-medium rounded-full flex items-center">
                    <span class="w-1.5 h-1.5 bg-white rounded-full mr-1.5 animate-pulse"></span>
                    Tersedia
                </div>
                {% elif room.status == 'maintenance' %}
                <div
                    class="absolute top-3 left-3 px-3 py-1.5 bg-yellow-500 text-white text-xs font-medium rounded-full flex items-center">
                    üîß Dalam Perbaikan
                </div>
                {% else %}
                <div class="absolute top-3 left-3 px-3 py-1.5 bg-red-500 text-white text-xs font-medium rounded-full">
                    Tidak Tersedia
                </div>
                {% endif %}

                <!-- Favorite Button -->
                <button
                    class="wishlist-btn absolute top-3 right-3 p-2 rounded-full bg-white/80 hover:bg-white hover:scale-110 transition-all duration-200"
                    data-room-id="{{ room.pk }}">
                    <svg class="w-5 h-5 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                        </path>
                    </svg>
                </button>
            </div>

            <!-- Room Info -->
            <div class="p-4">
                <div class="flex items-start justify-between mb-2">
                    <h3 class="text-base font-semibold text-gray-900 line-clamp-1">{{ room.nomor_ruangan }}</h3>
                    <div class="flex items-center text-sm ml-2 shrink-0">
                        <svg class="w-4 h-4 text-yellow-400 mr-1" fill="currentColor" viewBox="0 0 20 20">
                            <path
                                d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z">
                            </path>
                        </svg>
                        <span class="text-gray-700">{{ room.average_rating|default:"0.0" }}</span>
                    </div>
                </div>

                <p class="text-sm text-gray-500 mb-1">
                    <span class="inline-flex items-center">
                        {% if room.tipe_ruangan == 'Kelas' %}
                        üè´
                        {% elif room.tipe_ruangan == 'Lab' %}
                        üî¨
                        {% else %}
                        üé≠
                        {% endif %}
                        {{ room.get_tipe_ruangan_display }}
                    </span>
                </p>

                <p class="text-sm text-gray-500 mb-3">
                    <span class="inline-flex items-center">
                        <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z">
                            </path>
                        </svg>
                        Kapasitas: {{ room.kapasitas }} orang
                    </span>
                </p>

                <!-- Facilities Preview -->
                {% if room.fasilitas_list %}
                <div class="flex flex-wrap gap-1 mb-3" data-fasilitas-count="{{ room.fasilitas_list|length }}">
                    {% for fasilitas in room.fasilitas_list|slice:":3" %}
                    <span class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full">{{ fasilitas }}</span>
                    {% endfor %}
                </div>
                {% endif %}

                <div class="pt-3 border-t border-gray-100 flex items-center justify-between">
                    <div>
                        <span class="text-sm font-semibold text-gray-900">Gratis</span>
                        <span class="text-sm text-gray-500"> / sesi</span>
                    </div>
                    <span
                        class="px-4 py-2 bg-primary/10 text-primary text-xs font-semibold rounded-full group-hover:bg-primary group-hover:text-white group-hover:shadow-lg group-hover:shadow-primary/30 transition-all duration-300 flex items-center gap-1">
                        <span>Lihat Detail</span>
                        <svg class="w-3 h-3 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"
                            fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7">
                            </path>
                        </svg>
                    </span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- No Search Results Message -->
    <div id="noSearchResults" class="hidden text-center py-12">
        <div class="w-20 h-20 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
            </svg>
        </div>
        <h3 class="text-lg font-semibold text-gray-900 mb-2">Ruangan Tidak Ditemukan</h3>
        <p class="text-gray-500">Coba gunakan kata kunci lain untuk mencari ruangan</p>
    </div>
    {% else %}
    <!-- Empty State -->
    <div class="text-center py-16">
        <div class="w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
            <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                    d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4">
                </path>
            </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-900 mb-2">Belum Ada Ruangan</h3>
        <p class="text-gray-500 mb-6">Ruangan kampus akan segera tersedia. Silakan cek kembali nanti.</p>
        <a href="#"
            class="inline-flex items-center px-6 py-3 bg-primary text-white font-medium rounded-lg hover:bg-primary/90 transition-colors">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15">
                </path>
            </svg>
            Refresh Halaman
        </a>
    </div>
    {% endif %}

</div>



<!-- ============================================ -->
<!-- FEATURES SECTION 1: Efficiency -->
<!-- ============================================ -->
<section class="py-32 bg-white overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Section Title -->
        <div class="text-center mb-24 animate-on-scroll">
            <h2 class="text-4xl lg:text-5xl font-extrabold text-gray-900 tracking-tight leading-tight mb-6">
                Sistem Reservasi Ruangan Kampus: <br class="hidden md:block">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-400">
                    Cepat, Mudah, dan Terintegrasi
                </span>
            </h2>
            <p class="max-w-2xl mx-auto text-lg text-gray-600">
                Solusi modern untuk pengelolaan fasilitas kampus yang lebih efisien dan transparan.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-20 xl:gap-24 items-center mb-24">
            <!-- Left: Image -->
            <div class="relative group animate-on-scroll">
                <div
                    class="absolute -inset-4 bg-gradient-to-r from-primary/30 to-blue-500/30 rounded-[2.5rem] blur-2xl opacity-60 group-hover:opacity-80 transition duration-700">
                </div>
                <div class="relative rounded-[2rem] overflow-hidden shadow-2xl border-4 border-white/50">
                    <img src="https://images.unsplash.com/photo-1497366216548-37526070297c?w=1200&h=900&fit=crop"
                        alt="Smart Space Platform"
                        class="w-full h-auto object-cover transform group-hover:scale-105 transition-transform duration-700">
                    <!-- Floating Card -->
                    <div
                        class="absolute bottom-8 left-8 right-8 bg-white/95 backdrop-blur-xl rounded-2xl p-6 shadow-[0_8px_30px_rgb(0,0,0,0.12)] border border-white/20">
                        <div class="flex items-center gap-5">
                            <div class="w-14 h-14 bg-green-50 rounded-full flex items-center justify-center shrink-0">
                                <svg class="w-7 h-7 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5"
                                        d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div>
                                <p class="font-bold text-gray-900 text-lg">Platform Terpercaya</p>
                                <p class="text-gray-500">Digunakan oleh 1000+ civitas akademika</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: Features List -->
            <div class="space-y-12 animate-on-scroll delay-200 pl-0 lg:pl-10">
                <!-- Feature 1 -->
                <div class="flex gap-8 group">
                    <div
                        class="flex-shrink-0 w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/30 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4">
                            </path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-4 group-hover:text-blue-600 transition-colors">
                            User Friendly</h3>
                        <p class="text-gray-600 leading-relaxed text-lg">
                            Desain antarmuka intuitif yang memudahkan mahasiswa hingga dosen senior untuk
                            mencari dan meminjam ruangan tanpa hambatan teknis.
                        </p>
                    </div>
                </div>

                <!-- Feature 2 -->
                <div class="flex gap-8 group">
                    <div
                        class="flex-shrink-0 w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-600/30 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">
                            </path>
                        </svg>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-gray-900 mb-4 group-hover:text-indigo-600 transition-colors">
                            Sistem Terintegrasi</h3>
                        <p class="text-gray-600 leading-relaxed text-lg">
                            Seluruh jadwal penggunaan ruangan di kampus terpusat dalam satu platform, mencegah
                            bentrok jadwal dan transparansi ketersediaan.
                        </p>
                    </div>
                </div>

                <!-- Feature 3 -->
                <div class="flex gap-8 group">
                    <div
                        class="flex-shrink-0 w-16 h-16 bg-emerald-500 rounded-2xl flex items-center justify-center shadow-lg shadow-emerald-500/30 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300">
                        <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                    <div>
                        <h3
                            class="text-2xl font-bold text-gray-900 mb-4 group-hover:text-emerald-600 transition-colors">
                            Cepat & Efisien</h3>
                        <p class="text-gray-600 leading-relaxed text-lg">
                            Pangkas birokrasi manual. Tidak perlu lagi isi formulir kertas atau bolak-balik ke
                            bagian administrasi. Hemat waktu berharga Anda.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Note: Closing div for container was removed to merge sections cleaner, but structure kept intact -->

    <!-- ============================================ -->
    <!-- FEATURES SECTION 2: Schedule -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-32">
        <!-- Section Title (Centered) -->
        <div class="text-center mb-20 animate-on-scroll">
            <h2 class="text-4xl lg:text-5xl font-extrabold text-gray-900 tracking-tight leading-tight mb-6">
                Mengubah Kebutuhan Ruang Anda Menjadi <br class="hidden md:block">
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-primary">
                    Jadwal yang Terkonfirmasi
                </span>
            </h2>
            <p class="max-w-2xl mx-auto text-lg text-gray-600 leading-relaxed">
                Nikmati kemudahan mengatur jadwal dan ruangan dengan sistem yang dirancang untuk produktivitas Anda.
            </p>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-20 xl:gap-24 items-center">
            <!-- Left: Features List -->
            <div class="space-y-12 animate-on-scroll order-2 lg:order-1 pr-0 lg:pr-10">

                <div class="space-y-6">
                    <!-- Feature Card 1 -->
                    <div
                        class="bg-gray-50 hover:bg-white rounded-2xl p-7 border border-transparent hover:border-gray-100 hover:shadow-xl transition-all duration-300 group">
                        <div class="flex items-start gap-5">
                            <div
                                class="flex-shrink-0 w-12 h-12 bg-red-50 rounded-xl flex items-center justify-center group-hover:bg-red-100 transition-colors">
                                <svg class="w-6 h-6 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-900 mb-2">Kemudahan Akses</h3>
                                <p class="text-gray-600">Akses sistem kapan saja dan di mana saja. Cek
                                    ketersediaan ruangan
                                    secara real-time langsung dari perangkat Anda.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Feature Card 2 -->
                    <div
                        class="bg-gray-50 hover:bg-white rounded-2xl p-7 border border-transparent hover:border-gray-100 hover:shadow-xl transition-all duration-300 group">
                        <div class="flex items-start gap-5">
                            <div
                                class="flex-shrink-0 w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center group-hover:bg-blue-100 transition-colors">
                                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                                    </path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-900 mb-2">Jadwal Terpusat</h3>
                                <p class="text-gray-600">Hindari bentrok jadwal dengan sistem kalender terpusat
                                    yang transparan
                                    bagi semua pengguna.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Feature Card 3 -->
                    <div
                        class="bg-gray-50 hover:bg-white rounded-2xl p-7 border border-transparent hover:border-gray-100 hover:shadow-xl transition-all duration-300 group">
                        <div class="flex items-start gap-5">
                            <div
                                class="flex-shrink-0 w-12 h-12 bg-green-50 rounded-xl flex items-center justify-center group-hover:bg-green-100 transition-colors">
                                <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor"
                                    viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-gray-900 mb-2">Hemat Waktu</h3>
                                <p class="text-gray-600">Proses reservasi yang cepat tanpa birokrasi berbelit.
                                    Gunakan waktu
                                    Anda untuk hal yang lebih produktif.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right: Image with Calendar -->
            <div class="relative order-1 lg:order-2 group animate-on-scroll delay-200">
                <div
                    class="absolute -inset-4 bg-gradient-to-r from-blue-500/20 to-primary/20 rounded-[2.5rem] blur-2xl opacity-60 group-hover:opacity-80 transition duration-700">
                </div>
                <div class="relative rounded-[2rem] overflow-hidden shadow-2xl bg-gray-900">
                    <img src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1200&h=900&fit=crop"
                        alt="Collaboration"
                        class="w-full h-auto object-cover opacity-90 transform group-hover:scale-105 transition-transform duration-700">
                    <!-- Floating Calendar Card -->
                    <div
                        class="absolute top-8 right-8 bg-white/95 backdrop-blur-md rounded-2xl p-6 shadow-2xl w-64 border border-white/20 transform group-hover:-translate-y-2 transition-transform duration-500">
                        <div class="text-center mb-4">
                            <p class="text-xs text-gray-500 uppercase tracking-widest font-semibold">AVAILABLE
                                DATE</p>
                            <p class="text-2xl font-bold text-gray-900 mt-1">Dec 2025</p>
                        </div>
                        <div class="grid grid-cols-7 gap-2 text-center text-sm font-medium mb-2">
                            <span class="text-gray-400">S</span>
                            <span class="text-gray-400">M</span>
                            <span class="text-gray-400">T</span>
                            <span class="text-gray-400">W</span>
                            <span class="text-gray-400">T</span>
                            <span class="text-gray-400">F</span>
                            <span class="text-gray-400">S</span>
                        </div>
                        <div class="grid grid-cols-7 gap-2 text-center text-sm">
                            <span class="text-gray-300 py-1">1</span>
                            <span class="text-gray-300 py-1">2</span>
                            <span class="text-gray-300 py-1">3</span>
                            <span class="text-gray-300 py-1">4</span>
                            <span class="text-gray-300 py-1">5</span>
                            <span class="text-gray-300 py-1">6</span>
                            <span class="text-gray-300 py-1">7</span>
                            <span class="text-gray-900 py-1">8</span>
                            <span class="text-gray-900 py-1">9</span>
                            <span class="text-gray-900 py-1">10</span>
                            <span class="text-gray-900 py-1">11</span>
                            <span
                                class="w-7 h-7 bg-primary text-white rounded-full flex items-center justify-center mx-auto shadow-lg shadow-primary/40">12</span>
                            <span class="text-gray-900 py-1">13</span>
                            <span class="text-gray-900 py-1">14</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- TESTIMONIAL CAROUSEL SECTION -->
<!-- ============================================ -->
<section class="py-20 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 overflow-hidden">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Section Title -->
        <div class="text-center mb-16 animate-on-scroll">
            <div class="inline-flex items-center px-4 py-2 bg-primary/20 rounded-full mb-6">
                <span class="w-2 h-2 bg-primary rounded-full mr-2 animate-pulse"></span>
                <span class="text-primary text-sm font-medium">Testimoni Pengguna</span>
            </div>
            <h2 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-white mb-6">
                Apa Kata Mereka Tentang
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-blue-400">
                    SmartSpace UPY
                </span>
            </h2>
            <p class="max-w-2xl mx-auto text-lg text-gray-300">
                Dengarkan pengalaman dari civitas akademika yang telah menggunakan platform kami.
            </p>
        </div>

        {% if testimonials %}
        <!-- Testimonial Carousel -->
        <div class="relative" id="testimonialCarousel">
            <!-- Carousel Container -->
            <div class="overflow-hidden">
                <div class="testimonial-track flex transition-transform duration-500 ease-out" id="testimonialTrack">
                    {% for testimonial in testimonials %}
                    <div class="testimonial-slide min-w-full md:min-w-[50%] lg:min-w-[33.333%] px-4">
                        <div
                            class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 h-full border border-white/20 hover:border-primary/50 transition-all duration-300 hover:transform hover:-translate-y-2">
                            <!-- Quote Icon -->
                            <div class="mb-6">
                                <svg class="w-10 h-10 text-primary/60" fill="currentColor" viewBox="0 0 24 24">
                                    <path
                                        d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                                </svg>
                            </div>

                            <!-- Testimonial Content -->
                            <p class="text-gray-200 text-lg leading-relaxed mb-6 line-clamp-4">
                                "{{ testimonial.content }}"
                            </p>

                            <!-- Star Rating -->
                            <div class="flex gap-1 mb-6">
                                {% for i in "12345" %}
                                {% if forloop.counter <= testimonial.rating %} <svg class="w-5 h-5 text-yellow-400"
                                    fill="currentColor" viewBox="0 0 20 20">
                                    <path
                                        d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg>
                                    {% else %}
                                    <svg class="w-5 h-5 text-gray-600" fill="currentColor" viewBox="0 0 20 20">
                                        <path
                                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                    </svg>
                                    {% endif %}
                                    {% endfor %}
                            </div>

                            <!-- Author Info -->
                            <div class="flex items-center gap-4">
                                {% if testimonial.foto %}
                                <img src="{{ testimonial.foto.url }}" alt="{{ testimonial.nama }}"
                                    class="w-14 h-14 rounded-full object-cover ring-2 ring-primary/50">
                                {% else %}
                                <!-- Default Avatar -->
                                <div
                                    class="w-14 h-14 rounded-full bg-gradient-to-br from-primary to-blue-400 flex items-center justify-center ring-2 ring-primary/50">
                                    <span class="text-white font-bold text-xl">{{ testimonial.nama.0|upper }}</span>
                                </div>
                                {% endif %}
                                <div>
                                    <h4 class="text-white font-semibold text-lg">{{ testimonial.nama }}</h4>
                                    <p class="text-gray-400 text-sm">{{ testimonial.role }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>

            <!-- Navigation Arrows -->
            <button id="testimonialPrevBtn"
                class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110 group z-10 hidden md:flex">
                <svg class="w-6 h-6 text-gray-800 group-hover:text-primary transition-colors" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
            <button id="testimonialNextBtn"
                class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 bg-white/90 hover:bg-white rounded-full flex items-center justify-center shadow-lg transition-all duration-300 hover:scale-110 group z-10 hidden md:flex">
                <svg class="w-6 h-6 text-gray-800 group-hover:text-primary transition-colors" fill="none"
                    stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
            </button>
        </div>

        <!-- Dot Indicators -->
        <div class="flex justify-center gap-3 mt-10" id="testimonialDotsContainer">
            {% for testimonial in testimonials %}
            <button
                class="testimonial-dot {% if forloop.first %}w-4 h-4 bg-primary{% else %}w-3 h-3 bg-white/30 hover:bg-white/50{% endif %} rounded-full transition-all duration-300"
                data-index="{{ forloop.counter0 }}"></button>
            {% endfor %}
        </div>

        {% else %}
        <!-- Empty State - Fallback when no testimonials -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <!-- Sample Testimonial 1 -->
            <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20">
                <div class="mb-6">
                    <svg class="w-10 h-10 text-primary/60" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                    </svg>
                </div>
                <p class="text-gray-200 text-lg leading-relaxed mb-6">
                    "SmartSpace UPY sangat membantu saya dalam meminjam ruangan untuk kegiatan organisasi. Prosesnya
                    cepat dan mudah!"
                </p>
                <div class="flex gap-1 mb-6">
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                </div>
                <div class="flex items-center gap-4">
                    <div
                        class="w-14 h-14 rounded-full bg-gradient-to-br from-primary to-blue-400 flex items-center justify-center">
                        <span class="text-white font-bold text-xl">A</span>
                    </div>
                    <div>
                        <h4 class="text-white font-semibold text-lg">Andi Pratama</h4>
                        <p class="text-gray-400 text-sm">Mahasiswa Teknik Informatika</p>
                    </div>
                </div>
            </div>

            <!-- Sample Testimonial 2 -->
            <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20">
                <div class="mb-6">
                    <svg class="w-10 h-10 text-primary/60" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                    </svg>
                </div>
                <p class="text-gray-200 text-lg leading-relaxed mb-6">
                    "Sebagai dosen, platform ini sangat memudahkan koordinasi ruangan untuk seminar dan workshop."
                </p>
                <div class="flex gap-1 mb-6">
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                </div>
                <div class="flex items-center gap-4">
                    <div
                        class="w-14 h-14 rounded-full bg-gradient-to-br from-blue-500 to-indigo-500 flex items-center justify-center">
                        <span class="text-white font-bold text-xl">D</span>
                    </div>
                    <div>
                        <h4 class="text-white font-semibold text-lg">Dr. Dewi Sartika</h4>
                        <p class="text-gray-400 text-sm">Dosen FKIP</p>
                    </div>
                </div>
            </div>

            <!-- Sample Testimonial 3 -->
            <div class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 border border-white/20">
                <div class="mb-6">
                    <svg class="w-10 h-10 text-primary/60" fill="currentColor" viewBox="0 0 24 24">
                        <path
                            d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z" />
                    </svg>
                </div>
                <p class="text-gray-200 text-lg leading-relaxed mb-6">
                    "Manajemen ruangan jadi lebih terorganisir. Tidak ada lagi bentrok jadwal sejak pakai SmartSpace!"
                </p>
                <div class="flex gap-1 mb-6">
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                    <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                    </svg>
                </div>
                <div class="flex items-center gap-4">
                    <div
                        class="w-14 h-14 rounded-full bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center">
                        <span class="text-white font-bold text-xl">R</span>
                    </div>
                    <div>
                        <h4 class="text-white font-semibold text-lg">Ratna Sari</h4>
                        <p class="text-gray-400 text-sm">Staff Akademik</p>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
    </div>

    <!-- Decorative Elements -->
    <div class="absolute top-20 left-10 w-40 h-40 bg-primary/10 rounded-full blur-3xl"></div>
    <div class="absolute bottom-20 right-10 w-60 h-60 bg-blue-500/10 rounded-full blur-3xl"></div>
</section>

<!-- ============================================ -->
<!-- FAQ SECTION - ENHANCED DESIGN -->
<!-- ============================================ -->
<section class="py-24 relative overflow-hidden" id="faqSection">
    <!-- Background with Gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-blue-50/30"></div>

    <!-- Decorative Elements -->
    <div
        class="absolute top-0 left-0 w-96 h-96 bg-gradient-to-br from-primary/10 to-blue-500/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2">
    </div>
    <div
        class="absolute bottom-0 right-0 w-80 h-80 bg-gradient-to-tl from-blue-400/10 to-primary/10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3">
    </div>
    <div class="absolute top-1/2 right-1/4 w-24 h-24 bg-primary/5 rounded-full blur-2xl"></div>

    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section Header -->
        <div class="text-center mb-16 animate-on-scroll">
            <!-- Badge -->
            <div
                class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-primary/10 to-blue-500/10 rounded-full mb-6 border border-primary/20">
                <svg class="w-5 h-5 text-primary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                    </path>
                </svg>
                <span
                    class="bg-gradient-to-r from-primary to-blue-400 bg-clip-text text-transparent text-sm font-semibold">FAQ</span>
            </div>

            <h2 class="text-3xl md:text-4xl lg:text-5xl font-extrabold text-gray-900 mb-5">
                Pertanyaan yang
                <span class="relative">
                    <span
                        class="bg-gradient-to-r from-primary via-blue-500 to-primary bg-clip-text text-transparent">Sering
                        Ditanyakan</span>
                    <svg class="absolute -bottom-2 left-0 w-full h-3 text-primary/20" viewBox="0 0 100 10"
                        preserveAspectRatio="none">
                        <path d="M0 5 Q25 0, 50 5 T100 5" stroke="currentColor" stroke-width="3" fill="none" />
                    </svg>
                </span>
            </h2>
            <p class="text-gray-500 text-lg max-w-2xl mx-auto">
                Temukan jawaban untuk pertanyaan umum tentang layanan SmartSpace UPY
            </p>
        </div>

        <!-- FAQ Accordion - Enhanced -->
        <div class="space-y-4" id="faqAccordion">
            <!-- FAQ Item 1 -->
            <div class="faq-item group animate-on-scroll" style="--delay: 0.1s;">
                <div
                    class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100/80 overflow-hidden transition-all duration-500 hover:shadow-xl hover:shadow-primary/10 hover:border-primary/20">
                    <button
                        class="faq-toggle w-full px-7 py-6 text-left flex items-center gap-4 transition-all duration-300 group-hover:bg-gradient-to-r group-hover:from-primary/5 group-hover:to-transparent">
                        <!-- Question Icon -->
                        <div
                            class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-primary/10 to-blue-500/10 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:from-primary/20 group-hover:to-blue-500/20 group-hover:scale-110">
                            <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z">
                                </path>
                            </svg>
                        </div>
                        <span
                            class="flex-1 font-semibold text-gray-900 text-lg transition-colors group-hover:text-primary">Bagaimana
                            cara melakukan reservasi ruangan?</span>
                        <!-- Animated Arrow -->
                        <div
                            class="faq-arrow flex-shrink-0 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center transition-all duration-500 group-hover:bg-primary group-hover:text-white">
                            <svg class="w-5 h-5 text-gray-500 transition-all duration-500 group-hover:text-white"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                    </button>
                    <div class="faq-content overflow-hidden transition-all duration-500 ease-out"
                        style="max-height: 0;">
                        <div class="px-7 pb-6 pt-2 pl-[92px]">
                            <p class="text-gray-600 leading-relaxed">Untuk melakukan reservasi, Anda cukup login dengan
                                akun UPY, pilih ruangan yang tersedia, tentukan tanggal dan waktu, lalu ajukan
                                peminjaman. Admin akan memproses pengajuan Anda dalam waktu 1x24 jam.</p>
                            <div class="mt-4 flex items-center gap-2 text-sm text-primary font-medium">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                                </svg>
                                <a href="{% url 'home' %}#rooms" class="hover:underline">Lihat ruangan tersedia</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Item 2 -->
            <div class="faq-item group animate-on-scroll" style="--delay: 0.2s;">
                <div
                    class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100/80 overflow-hidden transition-all duration-500 hover:shadow-xl hover:shadow-primary/10 hover:border-primary/20">
                    <button
                        class="faq-toggle w-full px-7 py-6 text-left flex items-center gap-4 transition-all duration-300 group-hover:bg-gradient-to-r group-hover:from-primary/5 group-hover:to-transparent">
                        <div
                            class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-green-400/10 to-emerald-500/10 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:from-green-400/20 group-hover:to-emerald-500/20 group-hover:scale-110">
                            <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                                </path>
                            </svg>
                        </div>
                        <span
                            class="flex-1 font-semibold text-gray-900 text-lg transition-colors group-hover:text-primary">Apakah
                            ada biaya untuk meminjam ruangan?</span>
                        <div
                            class="faq-arrow flex-shrink-0 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center transition-all duration-500 group-hover:bg-primary group-hover:text-white">
                            <svg class="w-5 h-5 text-gray-500 transition-all duration-500 group-hover:text-white"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                    </button>
                    <div class="faq-content overflow-hidden transition-all duration-500 ease-out"
                        style="max-height: 0;">
                        <div class="px-7 pb-6 pt-2 pl-[92px]">
                            <div
                                class="flex items-start gap-3 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-100">
                                <svg class="w-6 h-6 text-green-500 flex-shrink-0 mt-0.5" fill="none"
                                    stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <div>
                                    <p class="font-semibold text-green-700 mb-1">Gratis!</p>
                                    <p class="text-gray-600 leading-relaxed">Tidak ada biaya untuk peminjaman ruangan
                                        bagi civitas akademika UPY. Semua fasilitas ruangan dapat digunakan secara
                                        gratis untuk kegiatan akademik dan non-akademik yang sudah disetujui.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Item 3 -->
            <div class="faq-item group animate-on-scroll" style="--delay: 0.3s;">
                <div
                    class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100/80 overflow-hidden transition-all duration-500 hover:shadow-xl hover:shadow-primary/10 hover:border-primary/20">
                    <button
                        class="faq-toggle w-full px-7 py-6 text-left flex items-center gap-4 transition-all duration-300 group-hover:bg-gradient-to-r group-hover:from-primary/5 group-hover:to-transparent">
                        <div
                            class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-400/10 to-indigo-500/10 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:from-blue-400/20 group-hover:to-indigo-500/20 group-hover:scale-110">
                            <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <span
                            class="flex-1 font-semibold text-gray-900 text-lg transition-colors group-hover:text-primary">Berapa
                            lama proses persetujuan peminjaman?</span>
                        <div
                            class="faq-arrow flex-shrink-0 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center transition-all duration-500 group-hover:bg-primary group-hover:text-white">
                            <svg class="w-5 h-5 text-gray-500 transition-all duration-500 group-hover:text-white"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                    </button>
                    <div class="faq-content overflow-hidden transition-all duration-500 ease-out"
                        style="max-height: 0;">
                        <div class="px-7 pb-6 pt-2 pl-[92px]">
                            <div class="flex items-center gap-4 mb-4">
                                <div
                                    class="flex items-center justify-center w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl shadow-lg shadow-blue-500/30">
                                    <span class="text-white font-bold text-2xl">1x24</span>
                                </div>
                                <div>
                                    <p class="text-gray-900 font-semibold">Jam Kerja</p>
                                    <p class="text-gray-500 text-sm">Waktu proses persetujuan</p>
                                </div>
                            </div>
                            <p class="text-gray-600 leading-relaxed">Anda akan mendapatkan notifikasi melalui sistem dan
                                email ketika pengajuan Anda sudah diproses.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Item 4 -->
            <div class="faq-item group animate-on-scroll" style="--delay: 0.4s;">
                <div
                    class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100/80 overflow-hidden transition-all duration-500 hover:shadow-xl hover:shadow-primary/10 hover:border-primary/20">
                    <button
                        class="faq-toggle w-full px-7 py-6 text-left flex items-center gap-4 transition-all duration-300 group-hover:bg-gradient-to-r group-hover:from-primary/5 group-hover:to-transparent">
                        <div
                            class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-orange-400/10 to-red-500/10 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:from-orange-400/20 group-hover:to-red-500/20 group-hover:scale-110">
                            <svg class="w-6 h-6 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                        </div>
                        <span
                            class="flex-1 font-semibold text-gray-900 text-lg transition-colors group-hover:text-primary">Bagaimana
                            jika saya ingin membatalkan peminjaman?</span>
                        <div
                            class="faq-arrow flex-shrink-0 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center transition-all duration-500 group-hover:bg-primary group-hover:text-white">
                            <svg class="w-5 h-5 text-gray-500 transition-all duration-500 group-hover:text-white"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                    </button>
                    <div class="faq-content overflow-hidden transition-all duration-500 ease-out"
                        style="max-height: 0;">
                        <div class="px-7 pb-6 pt-2 pl-[92px]">
                            <div class="space-y-3">
                                <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                                    <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">
                                        <span class="text-orange-600 font-bold text-sm">1</span>
                                    </div>
                                    <p class="text-gray-700">Buka halaman <span
                                            class="font-semibold text-primary">Dashboard</span></p>
                                </div>
                                <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                                    <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">
                                        <span class="text-orange-600 font-bold text-sm">2</span>
                                    </div>
                                    <p class="text-gray-700">Batalkan maksimal <span
                                            class="font-semibold text-orange-600">H-1</span> sebelum tanggal peminjaman
                                    </p>
                                </div>
                                <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-xl">
                                    <div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center">
                                        <span class="text-orange-600 font-bold text-sm">3</span>
                                    </div>
                                    <p class="text-gray-700">Ruangan akan tersedia kembali untuk pengguna lain</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Item 5 - Bonus Question -->
            <div class="faq-item group animate-on-scroll" style="--delay: 0.5s;">
                <div
                    class="bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100/80 overflow-hidden transition-all duration-500 hover:shadow-xl hover:shadow-primary/10 hover:border-primary/20">
                    <button
                        class="faq-toggle w-full px-7 py-6 text-left flex items-center gap-4 transition-all duration-300 group-hover:bg-gradient-to-r group-hover:from-primary/5 group-hover:to-transparent">
                        <div
                            class="flex-shrink-0 w-12 h-12 bg-gradient-to-br from-purple-400/10 to-violet-500/10 rounded-xl flex items-center justify-center transition-all duration-300 group-hover:from-purple-400/20 group-hover:to-violet-500/20 group-hover:scale-110">
                            <svg class="w-6 h-6 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z">
                                </path>
                            </svg>
                        </div>
                        <span
                            class="flex-1 font-semibold text-gray-900 text-lg transition-colors group-hover:text-primary">Bagaimana
                            jika saya butuh bantuan lebih lanjut?</span>
                        <div
                            class="faq-arrow flex-shrink-0 w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center transition-all duration-500 group-hover:bg-primary group-hover:text-white">
                            <svg class="w-5 h-5 text-gray-500 transition-all duration-500 group-hover:text-white"
                                fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7"></path>
                            </svg>
                        </div>
                    </button>
                    <div class="faq-content overflow-hidden transition-all duration-500 ease-out"
                        style="max-height: 0;">
                        <div class="px-7 pb-6 pt-2 pl-[92px]">
                            <p class="text-gray-600 leading-relaxed mb-4">Anda dapat menggunakan fitur AI Chatbot
                                SmartBot yang tersedia di pojok kanan bawah halaman, atau hubungi admin melalui kontak
                                yang tersedia.</p>
                            <div class="flex flex-wrap gap-3">
                                <button onclick="toggleSmartBotChat()"
                                    class="inline-flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-primary to-blue-400 text-white rounded-xl font-medium text-sm shadow-lg shadow-primary/25 hover:shadow-xl hover:shadow-primary/30 transition-all hover:-translate-y-0.5">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z">
                                        </path>
                                    </svg>
                                    Chat dengan SmartBot
                                </button>
                                <a href="{% url 'messages' %}"
                                    class="inline-flex items-center gap-2 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-xl font-medium text-sm hover:bg-gray-200 transition-all">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
                                        </path>
                                    </svg>
                                    Chat Admin
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom CTA -->
        <div class="mt-12 text-center animate-on-scroll">
            <p class="text-gray-500 mb-4">Masih punya pertanyaan lain?</p>
            <a href="{% url 'home' %}#rooms"
                class="inline-flex items-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-xl font-medium hover:bg-gray-800 transition-all hover:-translate-y-0.5 hover:shadow-xl">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                </svg>
                Jelajahi Ruangan
            </a>
        </div>
    </div>
</section>

<!-- ============================================ -->
<!-- FEEDBACK CTA SECTION -->
<!-- ============================================ -->
<section class="py-16 relative overflow-hidden">
    <!-- Background Gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900"></div>

    <!-- Decorative Elements -->
    <div class="absolute top-0 left-1/4 w-64 h-64 bg-primary/20 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 right-1/4 w-48 h-48 bg-blue-500/20 rounded-full blur-3xl"></div>

    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <div class="bg-white/10 backdrop-blur-lg rounded-3xl border border-white/20 p-8 md:p-12 text-center">
            <!-- Icon -->
            <div
                class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary to-blue-400 rounded-2xl mb-6 shadow-lg shadow-primary/30">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z">
                    </path>
                </svg>
            </div>

            <!-- Headline -->
            <h2 class="text-2xl md:text-3xl font-bold text-white mb-3">
                Punya Kritik atau Saran?
            </h2>

            <!-- Subtitle -->
            <p class="text-gray-300 mb-8 max-w-lg mx-auto">
                Kami sangat menghargai masukan Anda untuk meningkatkan kualitas layanan SmartSpace UPY. Feedback Anda
                dikirim secara anonim.
            </p>

            <!-- CTA Button -->
            <a href="{% url 'feedback' %}" class="group inline-flex items-center justify-center px-8 py-4 bg-gradient-to-r from-primary to-blue-400 text-white font-semibold rounded-xl 
                       shadow-lg shadow-primary/30 hover:shadow-xl hover:shadow-primary/40 
                       hover:scale-105 transition-all duration-300">
                <svg class="w-5 h-5 mr-2 group-hover:rotate-12 transition-transform" fill="none" stroke="currentColor"
                    viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                </svg>
                Kirim Feedback
            </a>

            <!-- Anonymous Badge -->
            <div class="mt-6 inline-flex items-center px-3 py-1.5 bg-white/10 rounded-full text-sm text-gray-300">
                <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                    </path>
                </svg>
                100% Anonim
            </div>
        </div>
    </div>
</section>

{% endblock %}

{% block extra_js %}
<script>
    // Hero Carousel Script
    document.addEventListener('DOMContentLoaded', function () {
        const track = document.getElementById('carouselTrack');
        const dots = document.querySelectorAll('.carousel-dot');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const slides = document.querySelectorAll('.carousel-slide');

        // Skip if no carousel elements (page might not have carousel)
        if (!track || !prevBtn || !nextBtn || slides.length === 0) return;

        let currentIndex = 0;
        const totalSlides = slides.length; // Dynamic slide count
        let autoSlideInterval;

        function updateCarousel() {
            track.style.transform = `translateX(-${currentIndex * 100}%)`;

            dots.forEach((dot, index) => {
                if (index === currentIndex) {
                    dot.classList.remove('w-2', 'h-2', 'bg-white/50');
                    dot.classList.add('w-3', 'h-3', 'bg-white');
                } else {
                    dot.classList.remove('w-3', 'h-3', 'bg-white');
                    dot.classList.add('w-2', 'h-2', 'bg-white/50');
                }
            });
        }

        function nextSlide() {
            currentIndex = (currentIndex + 1) % totalSlides;
            updateCarousel();
        }

        function prevSlide() {
            currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
            updateCarousel();
        }

        function startAutoSlide() {
            autoSlideInterval = setInterval(nextSlide, 4000);
        }

        function stopAutoSlide() {
            clearInterval(autoSlideInterval);
        }

        // Event Listeners
        nextBtn.addEventListener('click', () => {
            stopAutoSlide();
            nextSlide();
            startAutoSlide();
        });

        prevBtn.addEventListener('click', () => {
            stopAutoSlide();
            prevSlide();
            startAutoSlide();
        });

        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                stopAutoSlide();
                currentIndex = index;
                updateCarousel();
                startAutoSlide();
            });
        });

        // Start auto slide
        startAutoSlide();

        // Pause on hover
        const carousel = document.getElementById('heroCarousel');
        carousel.addEventListener('mouseenter', stopAutoSlide);
        carousel.addEventListener('mouseleave', startAutoSlide);
    });

    // Room Card Click Handler - Requires Auth
    function handleRoomCardClick(roomId, roomName) {
        // Check if user is logged in using AuthManager from base.html
        if (typeof AuthManager !== 'undefined' && AuthManager.isLoggedIn()) {
            // User is logged in, proceed to room detail
            window.location.href = '/room/' + roomId + '/';
        } else {
            // User not logged in, show login modal
            if (typeof openLoginModal === 'function') {
                openLoginModal();
            } else {
                // Fallback alert if modal function not available
                alert('Silakan login terlebih dahulu untuk melihat detail ruangan.');
            }
        }
    }

    // Room Type Filter Logic
    document.addEventListener('DOMContentLoaded', function () {
        const filterButtons = document.querySelectorAll('.filter-btn');
        const roomCards = document.querySelectorAll('[data-room-type]');
        const roomGrid = document.getElementById('roomGrid');
        const noResultsDiv = document.getElementById('noSearchResults');

        filterButtons.forEach(function (btn) {
            btn.addEventListener('click', function () {
                const filterType = this.dataset.filter;

                // Update active button styling - Blue theme
                filterButtons.forEach(function (b) {
                    // Remove active styles
                    b.classList.remove(
                        'bg-gradient-to-r', 'from-blue-500', 'to-blue-600',
                        'text-white', 'shadow-lg', 'shadow-blue-500/30', 'active'
                    );
                    // Add inactive styles
                    b.classList.add(
                        'bg-white', 'border-2', 'border-gray-200', 'text-gray-600'
                    );
                });

                // Apply active styles to clicked button
                this.classList.remove(
                    'bg-white', 'border-2', 'border-gray-200', 'text-gray-600'
                );
                this.classList.add(
                    'bg-gradient-to-r', 'from-blue-500', 'to-blue-600',
                    'text-white', 'shadow-lg', 'shadow-blue-500/30', 'active'
                );

                // Filter room cards
                let visibleCount = 0;
                roomCards.forEach(function (card) {
                    const roomType = card.dataset.roomType;

                    if (filterType === 'all' || roomType === filterType) {
                        card.style.display = '';
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // Show/hide no results message
                if (noResultsDiv) {
                    if (visibleCount === 0) {
                        noResultsDiv.classList.remove('hidden');
                        if (roomGrid) roomGrid.classList.add('hidden');
                    } else {
                        noResultsDiv.classList.add('hidden');
                        if (roomGrid) roomGrid.classList.remove('hidden');
                    }
                }
            });
        });
    });

    // Wishlist Toggle Handler
    async function toggleWishlist(roomId, event) {
        event.stopPropagation(); // Prevent card click

        // Check if user is logged in
        if (typeof AuthManager === 'undefined' || !AuthManager.isLoggedIn()) {
            if (typeof openLoginModal === 'function') {
                openLoginModal();
            }
            return;
        }

        const btn = event.currentTarget;
        const svg = btn.querySelector('svg');

        try {
            const response = await fetch('/api/wishlist/toggle/', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ room_id: roomId })
            });

            const data = await response.json();

            if (data.success) {
                // Update heart icon
                if (data.action === 'added') {
                    svg.setAttribute('fill', '#3B82F6');
                    svg.classList.add('text-primary');
                } else {
                    svg.setAttribute('fill', 'none');
                    svg.classList.remove('text-primary');
                }

                // Update wishlist count badge in dropdown
                const wishlistBadge = document.querySelector('[data-wishlist-count]');
                if (wishlistBadge) {
                    wishlistBadge.textContent = data.wishlist_count;
                }

                // Show toast notification
                if (typeof showToast === 'function') {
                    showToast('success', data.message);
                }
            }
        } catch (error) {
            console.error('Wishlist toggle error:', error);
            if (typeof showToast === 'function') {
                showToast('error', 'Gagal mengupdate wishlist');
            }
        }
    }

    // Event delegation for room card clicks
    document.addEventListener('DOMContentLoaded', function () {
        const roomGrid = document.getElementById('roomGrid');
        if (roomGrid) {
            roomGrid.addEventListener('click', function (event) {
                // Check if clicked on wishlist button
                const wishlistBtn = event.target.closest('.wishlist-btn');
                if (wishlistBtn) {
                    event.stopPropagation();
                    const roomId = parseInt(wishlistBtn.dataset.roomId);
                    if (roomId) {
                        toggleWishlist(roomId, event);
                    }
                    return;
                }

                // Check if clicked on room card
                const roomCard = event.target.closest('.room-card');
                if (roomCard) {
                    const roomId = roomCard.dataset.roomId;
                    const roomName = roomCard.dataset.roomName;
                    if (roomId) {
                        handleRoomCardClick(parseInt(roomId), roomName);
                    }
                }
            });
        }
    });

    // Handle room card click - navigate to detail page
    function handleRoomCardClick(roomId, roomName) {
        window.location.href = '/ruangan/' + roomId + '/';
    }

    // Add extra facilities badge dynamically
    document.addEventListener('DOMContentLoaded', function () {
        document.querySelectorAll('[data-fasilitas-count]').forEach(function (container) {
            const count = parseInt(container.dataset.fasilitasCount);
            if (count > 3) {
                const extra = count - 3;
                const badge = document.createElement('span');
                badge.className = 'px-2 py-1 bg-primary/10 text-primary text-xs rounded-full font-medium';
                badge.textContent = '+' + extra + ' lainnya';
                container.appendChild(badge);
            }
        });
    });

    // ============================================
    // SEARCH FUNCTIONALITY
    // ============================================
    document.addEventListener('DOMContentLoaded', function () {
        // Get all search inputs (desktop and mobile)
        const searchInputs = document.querySelectorAll('.search-input, input[placeholder*="Cari ruangan"]');
        const roomCards = document.querySelectorAll('.room-card');
        const roomGrid = document.getElementById('roomGrid');
        const noResultsDiv = document.getElementById('noSearchResults');

        // Debounce function for better performance
        function debounce(func, wait) {
            let timeout;
            return function (...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), wait);
            };
        }

        // Search filter function
        function filterRooms(keyword) {
            // Convert keyword to lowercase for case-insensitive search
            const searchTerm = keyword.toLowerCase().trim();
            let visibleCount = 0;

            // Get fresh list of room cards each time (important for dynamic content)
            const currentRoomCards = document.querySelectorAll('.room-card');
            const roomGrid = document.getElementById('roomGrid');
            const noResultsDiv = document.getElementById('noSearchResults');

            currentRoomCards.forEach(function (card) {
                // Get room name and convert to lowercase for case-insensitive comparison
                const roomName = (card.dataset.roomName || '').toLowerCase();

                // Check if room name STARTS WITH the search term (case-insensitive)
                const matchesSearch = searchTerm === '' || roomName.startsWith(searchTerm);

                if (matchesSearch) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            // Show/hide no results message
            if (noResultsDiv) {
                if (visibleCount === 0 && searchTerm !== '') {
                    noResultsDiv.classList.remove('hidden');
                    if (roomGrid) roomGrid.classList.add('hidden');
                } else {
                    noResultsDiv.classList.add('hidden');
                    if (roomGrid) roomGrid.classList.remove('hidden');
                }
            }
        }

        // Attach event listeners to all search inputs
        const debouncedFilter = debounce(function (e) {
            filterRooms(e.target.value);
        }, 300);

        searchInputs.forEach(function (input) {
            // Scroll to rooms section on focus
            input.addEventListener('focus', function () {
                const roomsSection = document.getElementById('rooms');
                if (roomsSection) {
                    roomsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });

            // Also scroll when typing starts
            input.addEventListener('input', function (e) {
                debouncedFilter(e);

                // Scroll to rooms section when typing
                const roomsSection = document.getElementById('rooms');
                if (roomsSection && e.target.value.length === 1) {
                    // Only scroll on first character to avoid continuous scrolling
                    roomsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });

            // Also handle Enter key
            input.addEventListener('keydown', function (e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    filterRooms(this.value);
                }
            });
        });
    });

    // ============================================
    // FAQ ACCORDION SCRIPT - ENHANCED WITH SMOOTH ANIMATIONS
    // ============================================
    document.addEventListener('DOMContentLoaded', function () {
        const faqToggles = document.querySelectorAll('.faq-toggle');
        const faqItems = document.querySelectorAll('.faq-item');

        faqToggles.forEach(function (toggle) {
            toggle.addEventListener('click', function () {
                const faqItem = this.closest('.faq-item');
                const content = this.nextElementSibling;
                const arrow = this.querySelector('.faq-arrow');
                const arrowIcon = arrow ? arrow.querySelector('svg') : null;
                const isOpen = content.style.maxHeight && content.style.maxHeight !== '0px';

                // Close all other FAQ items first (accordion behavior)
                faqToggles.forEach(function (otherToggle) {
                    if (otherToggle !== toggle) {
                        const otherItem = otherToggle.closest('.faq-item');
                        const otherContent = otherToggle.nextElementSibling;
                        const otherArrow = otherToggle.querySelector('.faq-arrow');
                        const otherArrowIcon = otherArrow ? otherArrow.querySelector('svg') : null;

                        // Collapse other items with animation
                        otherContent.style.maxHeight = '0px';
                        if (otherArrow) {
                            otherArrow.classList.remove('bg-primary', 'rotate-180');
                            otherArrow.classList.add('bg-gray-100');
                        }
                        if (otherArrowIcon) {
                            otherArrowIcon.style.transform = 'rotate(0deg)';
                        }
                        if (otherItem) {
                            otherItem.classList.remove('faq-active');
                        }
                    }
                });

                // Toggle current item
                if (isOpen) {
                    // Close with smooth animation
                    content.style.maxHeight = '0px';
                    if (arrow) {
                        arrow.classList.remove('bg-primary');
                        arrow.classList.add('bg-gray-100');
                    }
                    if (arrowIcon) {
                        arrowIcon.style.transform = 'rotate(0deg)';
                    }
                    if (faqItem) {
                        faqItem.classList.remove('faq-active');
                    }
                } else {
                    // Open with smooth animation
                    content.style.maxHeight = content.scrollHeight + 'px';
                    if (arrow) {
                        arrow.classList.add('bg-primary');
                        arrow.classList.remove('bg-gray-100');
                    }
                    if (arrowIcon) {
                        arrowIcon.style.transform = 'rotate(180deg)';
                    }
                    if (faqItem) {
                        faqItem.classList.add('faq-active');
                    }
                }
            });
        });

        // Add staggered animation delays for scroll reveal
        faqItems.forEach(function (item, index) {
            item.style.transitionDelay = (index * 0.1) + 's';
        });
    });

    // ============================================
    // TESTIMONIAL CAROUSEL SCRIPT
    // ============================================
    document.addEventListener('DOMContentLoaded', function () {
        const testimonialTrack = document.getElementById('testimonialTrack');
        const testimonialDots = document.querySelectorAll('.testimonial-dot');
        const testimonialPrevBtn = document.getElementById('testimonialPrevBtn');
        const testimonialNextBtn = document.getElementById('testimonialNextBtn');
        const testimonialSlides = document.querySelectorAll('.testimonial-slide');

        // Skip if no testimonial carousel elements
        if (!testimonialTrack || testimonialSlides.length === 0) return;

        let testimonialCurrentIndex = 0;
        let testimonialAutoSlideInterval;

        // Calculate slides per view based on screen size
        function getSlidesPerView() {
            if (window.innerWidth >= 1024) return 3; // lg
            if (window.innerWidth >= 768) return 2;  // md
            return 1; // mobile
        }

        function getMaxIndex() {
            const slidesPerView = getSlidesPerView();
            return Math.max(0, testimonialSlides.length - slidesPerView);
        }

        function updateTestimonialCarousel() {
            const slidesPerView = getSlidesPerView();
            const slideWidth = 100 / slidesPerView;
            testimonialTrack.style.transform = `translateX(-${testimonialCurrentIndex * slideWidth}%)`;

            // Update dots
            testimonialDots.forEach((dot, index) => {
                if (index === testimonialCurrentIndex) {
                    dot.classList.remove('w-3', 'h-3', 'bg-white/30');
                    dot.classList.add('w-4', 'h-4', 'bg-primary');
                } else {
                    dot.classList.remove('w-4', 'h-4', 'bg-primary');
                    dot.classList.add('w-3', 'h-3', 'bg-white/30');
                }
            });
        }

        function nextTestimonialSlide() {
            const maxIndex = getMaxIndex();
            testimonialCurrentIndex = (testimonialCurrentIndex + 1) > maxIndex ? 0 : testimonialCurrentIndex + 1;
            updateTestimonialCarousel();
        }

        function prevTestimonialSlide() {
            const maxIndex = getMaxIndex();
            testimonialCurrentIndex = (testimonialCurrentIndex - 1) < 0 ? maxIndex : testimonialCurrentIndex - 1;
            updateTestimonialCarousel();
        }

        function startTestimonialAutoSlide() {
            testimonialAutoSlideInterval = setInterval(nextTestimonialSlide, 5000);
        }

        function stopTestimonialAutoSlide() {
            clearInterval(testimonialAutoSlideInterval);
        }

        // Event Listeners
        if (testimonialNextBtn) {
            testimonialNextBtn.addEventListener('click', () => {
                stopTestimonialAutoSlide();
                nextTestimonialSlide();
                startTestimonialAutoSlide();
            });
        }

        if (testimonialPrevBtn) {
            testimonialPrevBtn.addEventListener('click', () => {
                stopTestimonialAutoSlide();
                prevTestimonialSlide();
                startTestimonialAutoSlide();
            });
        }

        testimonialDots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                stopTestimonialAutoSlide();
                testimonialCurrentIndex = Math.min(index, getMaxIndex());
                updateTestimonialCarousel();
                startTestimonialAutoSlide();
            });
        });

        // Start auto slide
        startTestimonialAutoSlide();

        // Pause on hover
        const testimonialCarousel = document.getElementById('testimonialCarousel');
        if (testimonialCarousel) {
            testimonialCarousel.addEventListener('mouseenter', stopTestimonialAutoSlide);
            testimonialCarousel.addEventListener('mouseleave', startTestimonialAutoSlide);
        }

        // Handle window resize
        window.addEventListener('resize', () => {
            testimonialCurrentIndex = Math.min(testimonialCurrentIndex, getMaxIndex());
            updateTestimonialCarousel();
        });
    });
</script>
{% endblock %}